## Репозиторий для лабораторных работ по курсу "Имитационное моделирование"

Все работы выполнены на языке Python с использованием aiohttp как библиотеки для создания веб приложений. Клиентская часть написана на javascript.

### Про локальный запуск
Требование: python 3.8.X
Используемые библиотеки записаны в requirements.txt
Запуск любой лабораторной выполняется через единый сервис запуска приложений: run_apps.py
```shell script
python3.8 run_apps.py
```
Эта команда запустит приложение под портом 8800.\
С помощью post запросов можно поднимать следующие приложения.\
Например:
```shell script
curl -X POST 0:8800/start?target=8
```
Запустит восьмую лабораторную работу. В target поддерживаются `all` и порядковое числительное названия лабораторной работы.\
Новые приложения будут занимать следующие порты после 8800, так например, бэкэнд третей лабораторной работы занимает порт 8803, однако, для поддержки деплоя на `heroku` все сервисы проксируются на 8800 порт, с определенным префиксом (порядковое числительное номера лабораторной работы), то есть для, например, увидеть третью лабораторную работу можно по адресу 0.0.0.0:8800/third.
\
Для остановки приложения стоит отправить post запрос, например:
```shell script
curl -X POST 0:8800/stop?target=second
```
Проверить количество и названия запущенных приложений можно по адресу /status основного сервера.
```shell script
curl 0:8800/status
```
Ручки /stop и /start могут быть защищены ключом доступа, хранимый в переменной `TRUST_KEY` среды. Чтобы пройти эту защиты, требуется передать в заголовок `Authorization` этот ключ. Если `TRUST_KEY` не установлен - защиты нет.\
\
\
Приложения поддерживают деплой на `heroku` для этого также предоставлены файлы: `runtime.txt` и `Procfile`.
